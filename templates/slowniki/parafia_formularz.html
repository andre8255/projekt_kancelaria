{% extends "base_panel.html" %}
{% block content %}

<div class="d-flex justify-content-between align-items-start flex-wrap gap-2 mb-3">

  <div>
    <h1 class="h5 mb-1">
      <span class="badge bg-primary-subtle text-primary border border-primary rounded-pill fw-normal px-2 py-1">
        {% if object %}Edycja{% else %}Nowa{% endif %}
      </span>
      <span class="fw-semibold">
       Parafia
      </span>
    </h1>

    {% if osoba %}
      <div class="text-muted small">
        Uzupełnij wpis Parafii: 
      </div>
    {% endif %}
  </div>

  <div class="d-flex flex-wrap gap-2 ms-auto">
    {% if osoba %}
      <a href="{% url 'osoba_szczegoly' osoba.pk %}" 
      class="btn btn-outline-secondary btn-sm">
        Powrót
        </a>
     {% else %}
      <a href="{% url 'slownik_parafia_lista' %}" 
      class="btn btn-outline-secondary btn-sm">
        Powrót
      </a>
    {% endif %}
  </div>
</div>






<form method="post" class="card shadow-sm">
  {% csrf_token %}

  <div class="card-body small">

    {% if form.non_field_errors %}
    <div class="alert alert-danger small">{{ form.non_field_errors }}</div>
    {% endif %}

    {# --- Sekcja: Nazwa / miejscowość / diecezja --- #}
    <div class="row">
      <div class="col-md-6">
        <div class="mb-3">
          <label class="form-label small fw-semibold text-muted">{{ form.nazwa.label }}</label>
          {{ form.nazwa }}
          {% if form.nazwa.errors %}<div class="text-danger small">{{ form.nazwa.errors }}</div>{% endif %}
        </div>
      </div>

      <div class="col-md-3">
        <div class="mb-3">
          <label class="form-label small fw-semibold text-muted">{{ form.miejscowosc.label }}</label>
          {{ form.miejscowosc }}
          {% if form.miejscowosc.errors %}<div class="text-danger small">{{ form.miejscowosc.errors }}</div>{% endif %}
        </div>
      </div>

      <div class="col-md-3">
        <div class="mb-3">
          <label class="form-label small fw-semibold text-muted">{{ form.diecezja.label }}</label>
          {{ form.diecezja }}
          {% if form.diecezja.errors %}<div class="text-danger small">{{ form.diecezja.errors }}</div>{% endif %}
        </div>
      </div>
    </div>

    <hr>

    {# --- Sekcja: Adres --- #}
    <div class="row">
      <div class="col-md-5">
        <div class="mb-3">
          <label class="form-label small fw-semibold text-muted">{{ form.ulica.label }}</label>
          {{ form.ulica }}
          {% if form.ulica.errors %}<div class="text-danger small">{{ form.ulica.errors }}</div>{% endif %}
        </div>
      </div>

      <div class="col-md-2">
        <div class="mb-3">
          <label class="form-label small fw-semibold text-muted">{{ form.nr_domu.label }}</label>
          {{ form.nr_domu }}
          {% if form.nr_domu.errors %}<div class="text-danger small">{{ form.nr_domu.errors }}</div>{% endif %}
        </div>
      </div>

      <div class="col-md-2">
        <div class="mb-3">
          <label class="form-label small fw-semibold text-muted">{{ form.nr_mieszkania.label }}</label>
          {{ form.nr_mieszkania }}
          {% if form.nr_mieszkania.errors %}<div class="text-danger small">{{ form.nr_mieszkania.errors }}</div>{% endif %}
        </div>
      </div>
    </div>

    <div class="row">
      {# <-- tu robimy kod pocztowy i pocztę w jednym wierszu obok siebie #}
      <div class="col-md-2">
        <div class="mb-3">
          <label class="form-label small fw-semibold text-muted">{{ form.kod_pocztowy.label }}</label>
          {{ form.kod_pocztowy }}
          {% if form.kod_pocztowy.errors %}<div class="text-danger small">{{ form.kod_pocztowy.errors }}</div>{% endif %}
        </div>
      </div>

      <div class="col-md-3">
        <div class="mb-3">
          <label class="form-label small fw-semibold text-muted">{{ form.poczta.label }}</label>
          {{ form.poczta }}
          {% if form.poczta.errors %}<div class="text-danger small">{{ form.poczta.errors }}</div>{% endif %}
        </div>
      </div>
    </div>

    <hr>

    {# --- Sekcja: Kontakt --- #}
    <div class="row">
      <div class="col-md-4">
        <div class="mb-3">
          <label class="form-label small fw-semibold text-muted">{{ form.telefon.label }}</label>
          {{ form.telefon }}
          {% if form.telefon.errors %}<div class="text-danger small">{{ form.telefon.errors }}</div>{% endif %}
        </div>
      </div>

      <div class="col-md-4">
        <div class="mb-3">
          <label class="form-label small fw-semibold text-muted">{{ form.email.label }}</label>
          {{ form.email }}
          {% if form.email.errors %}<div class="text-danger small">{{ form.email.errors }}</div>{% endif %}
        </div>
      </div>
    </div>

    <hr>

    {# --- Sekcja: Uwagi --- #}
    <div class="mb-3">
      <label class="form-label small fw-semibold text-muted">{{ form.uwagi.label }}</label>
      {{ form.uwagi }}
      {% if form.uwagi.errors %}<div class="text-danger small">{{ form.uwagi.errors }}</div>{% endif %}
    </div>

  </div>

<div class="mt-4 d-flex gap-2">
    <button class="btn btn-primary">Zapisz</button>
    <a href="{% url 'slownik_parafia_lista' %}" class="btn btn-outline-secondary">Anuluj</a> 
  </div>
</form>

{% endblock %}
