@startuml use_case
title Diagram UML - przypadki użycia
left to right direction

' --- USTAWIENIA GRAFICZNE ---
skinparam monochrome true
skinparam shadowing false
skinparam packageStyle rectangle
skinparam actorStyle awesome
' polyline = linie łamane, nie zaokrąglone 
skinparam linetype polyline 

' --- AKTORZY ---
actor "Sekretarz/Sekretarka" as S
actor "Ksiądz" as K
actor "Administrator" as A

' Wymuszenie odstępów pionowych (S na górze, A na dole)
S -[hidden]- K
K -[hidden]- A

rectangle "System Kancelarii" {

    ' PAKIET 1: Góra (Dla Sekretarza/Sekretarki i Księdza)
    package "1. Praca Codzienna (Dane)" {
        usecase "Wyszukiwanie i Podgląd" as UC_View
        usecase "Dodawanie i Edycja danych" as UC_Edit
        usecase "Rejestracja Intencji/Sakramentów" as UC_Add
        usecase "Wydruki PDF" as UC_Print
    }

    ' PAKIET 2: Środek (Dla Księdza)
    package "2. Zarządzanie i Opłaty" {
        usecase "Zarządzanie Grobami" as UC_Groby
        usecase "Opłaty" as UC_Oplaty
    }

    ' PAKIET 3: Dół (Dla Księdza i Admina)
    package "3. Usuwanie i Konfiguracja" {
        usecase "USUWANIE Danych\n(Osoby, Msze, Historia)" as UC_Delete
        usecase "Zarządzanie Użytkownikami" as UC_Users
        usecase "Backup i Logi" as UC_Config
    }
}

' --- POŁĄCZENIA ---

' 1. SEKRETARIAT (Tylko górny pakiet + Groby)
' Używamy krótkich strzałek (->)
S --> UC_View
S --> UC_Edit
S --> UC_Add
S --> UC_Print
S --> UC_Groby

' 2. KSIĄDZ (Środek diagramu)
' Ma dostęp do góry (dłuższe strzałki)
K --> UC_View
K --> UC_Edit
K --> UC_Add
K --> UC_Print
' Ma dostęp do środka (krótkie strzałki)
K --> UC_Groby
K --> UC_Oplaty
' Ma dostęp do usuwania i configu (dół)
K --> UC_Delete
K --> UC_Config

' 3. ADMIN (Dół diagramu)
' Łączymy tylko z jego specyficznymi zadaniami, żeby nie zamazać obrazu
A --> UC_Users
A --> UC_Config
A --> UC_Delete

' Dodajemy notatkę, żeby nie ciągnąć 10 linii od Admina do góry
note right of A
  Administrator posiada techniczny
  dostęp do wszystkich modułów
  (widocznych poniżej).
end note

@enduml